# User-Defined Service Functions 

User-Defined Service Functions is a service layer running on top of the FROGv4 orchestrator. It allows each user to define his own service graph (a.k.a. NFV service chain).
The network is initially configured with a default service graph that redirect all the unknown traffic (e.g., generated by users connecting to the network with their laptop) to a captive portal, for user identification.
A successful user authentication triggers the instantiation of the service graph associated to that user.
From that point on, all the traffic of that user will pass through the functions defined in the user' selected service graph before being transmitted to the Internet.
All the traffic of the unauthenticated users are instead redirected to the captive portal, until a successfull autentication occurs. When a new user is authenticated, the service layer prepares the user graph, characterizing end-points and optionally specifying the final location of end-points and VNFs; then it performs a request to the Global Orchestrator to deploy the graph on the below infrastructure.
